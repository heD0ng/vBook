(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{324:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_300ms点击延迟"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_300ms点击延迟"}},[t._v("#")]),t._v(" 300ms点击延迟")]),t._v(" "),a("p",[t._v("移动端的"),a("code",[t._v("300ms")]),t._v("点击延迟是因为移动端可以进行双击缩放的操作，因此浏览器在"),a("code",[t._v("click")]),t._v("之后要等待"),a("code",[t._v("300ms")]),t._v("，看用户有没有下一次点击，也就是判断这次操作是单击还是双击。如果通过监听"),a("code",[t._v("touchstart")]),t._v("事件来替代"),a("code",[t._v("click")]),t._v("事件的话，会导致一些问题："),a("code",[t._v("touchstart")]),t._v("是手指触摸屏幕就触发，有时候用户只是想滑动屏幕，却触发了"),a("code",[t._v("touchstart")]),t._v("事件；当页面上有两个元素"),a("code",[t._v("A")]),t._v("和"),a("code",[t._v("B")]),t._v("，"),a("code",[t._v("A")]),t._v("元素在"),a("code",[t._v("B")]),t._v("元素上重叠放置，如果"),a("code",[t._v("A")]),t._v("元素的"),a("code",[t._v("touchstart")]),t._v("事件绑定的回调函数是隐藏"),a("code",[t._v("A")]),t._v("元素自身，那么当点击"),a("code",[t._v("A")]),t._v("元素后"),a("code",[t._v("A")]),t._v("元素会消失，事件的触发顺序是"),a("code",[t._v("touchstart -> touchend -> click")]),t._v("，如果在"),a("code",[t._v("300ms")]),t._v("内没有第二次点击便会触发"),a("code",[t._v("click")]),t._v("事件，此时由于"),a("code",[t._v("A")]),t._v("元素消失，那么"),a("code",[t._v("click")]),t._v("事件便落到了"),a("code",[t._v("B")]),t._v("元素上，如果"),a("code",[t._v("B")]),t._v("元素是个链接或者绑定了"),a("code",[t._v("click")]),t._v("事件，那么"),a("code",[t._v("B")]),t._v("元素的默认行为或者是绑定的事件回调便会意外地触发，这就是点击穿透问题，解决这个问题还是需要解决"),a("code",[t._v("click")]),t._v("事件的"),a("code",[t._v("300ms")]),t._v("延迟问题。")]),t._v(" "),a("h2",{attrs:{id:"解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[t._v("#")]),t._v(" 解决方案")]),t._v(" "),a("h3",{attrs:{id:"禁止缩放"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#禁止缩放"}},[t._v("#")]),t._v(" 禁止缩放")]),t._v(" "),a("p",[t._v("通过完全禁止缩放来使双击缩放的功能失效，此时浏览器就可以禁用默认的双击缩放行为并且去掉"),a("code",[t._v("300ms")]),t._v("点击延迟，但是在这种情况下双指缩放的功能也会失效。")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("user-scalable=no"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 或 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("initial-scale=1, minimum-scale=1, maximum-scale=1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h3",{attrs:{id:"更改默认的视口宽度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改默认的视口宽度"}},[t._v("#")]),t._v(" 更改默认的视口宽度")]),t._v(" "),a("p",[t._v("浏览器在包含"),a("code",[t._v("width=device-width")]),t._v("也就是视口宽度"),a("code",[t._v("=")]),t._v("设备宽度或者设置为比"),a("code",[t._v("viewport")]),t._v("值更小的页面上禁用双击缩放行为，没有双击缩放就没有"),a("code",[t._v("300ms")]),t._v("点击延迟，这种方案没有完全禁用缩放，而是禁用浏览器默认的双击缩放行为，用户仍然可以通过双指缩放操作来缩放页面。")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"touch-action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#touch-action"}},[t._v("#")]),t._v(" touch-action")]),t._v(" "),a("p",[a("code",[t._v("CSS")]),t._v("的"),a("code",[t._v("touch-action")]),t._v("属性用于设置触摸屏用户如何操纵元素的区域，它允许移除特定元素或整个文档的触发延迟，而无需禁用缩放。")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[t._v("touch-action：none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 浏览器兼容性 https://caniuse.com/#search=touch-action */")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"fastclick"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fastclick"}},[t._v("#")]),t._v(" FastClick")]),t._v(" "),a("p",[a("code",[t._v("FastClick")]),t._v("是"),a("code",[t._v("FT Labs")]),t._v("专门为解决移动端浏览器"),a("code",[t._v("300ms")]),t._v("点击延迟问题所开发的一个轻量级的库。")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DOMContentLoaded'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    FastClick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://github.com/ftlabs/fastclick")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("https://www.cnblogs.com/shytong/p/5463673.html\nhttps://www.cnblogs.com/shiyou00/p/10410935.html\nhttps://blog.csdn.net/qq_41047322/article/details/81287325\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);